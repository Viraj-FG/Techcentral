import{u as b,f as A,r as i}from"./react-vendor-DwZQO67Z.js";import{aY as I}from"./index-D4bhw5kJ.js";const t=["/app","/inventory","/recipes","/settings"],w=(L={})=>{const{enabled:g=!0,threshold:E=80,onSwipeStart:h,onSwipeEnd:f}=L,v=b(),r=A(),s=i.useRef(null),a=i.useRef(null),l=i.useRef(!1),[T,d]=i.useState({isActive:!1,progress:0,direction:null,currentIndex:t.indexOf(r.pathname),nextIndex:null});return i.useEffect(()=>{if(!g)return;const p=c=>{s.current=c.touches[0].clientX,a.current=c.touches[0].clientY,l.current=!1;const m=t.indexOf(r.pathname);d({isActive:!1,progress:0,direction:null,currentIndex:m,nextIndex:null})},X=c=>{if(s.current===null||a.current===null)return;const o=c.touches[0].clientX-s.current,n=Math.abs(c.touches[0].clientY-a.current),e=Math.abs(o);if(e>n&&e>10){l.current||(l.current=!0,h==null||h());const x=t.indexOf(r.pathname),O=o>0?"right":"left",S=Math.min(e/window.innerWidth,1);let u=null;O==="right"?(u=x-1,u<0&&(u=t.length-1)):(u=x+1,u>=t.length&&(u=0)),d({isActive:!0,progress:S,direction:O,currentIndex:x,nextIndex:u})}},R=c=>{if(s.current===null||!l.current){s.current=null,a.current=null,d(n=>({...n,isActive:!1,progress:0,direction:null}));return}const o=c.changedTouches[0].clientX-s.current;if(Math.abs(o)>=E){const n=t.indexOf(r.pathname);if(n!==-1){let e;o>0?(e=n-1,e<0&&(e=t.length-1)):(e=n+1,e>=t.length&&(e=0)),I.selection(),v(t[e])}else o>0&&(I.selection(),v("/app"))}s.current=null,a.current=null,l.current=!1,f==null||f(),d(n=>({...n,isActive:!1,progress:0,direction:null}))};return document.addEventListener("touchstart",p,{passive:!0}),document.addEventListener("touchmove",X,{passive:!0}),document.addEventListener("touchend",R,{passive:!0}),()=>{document.removeEventListener("touchstart",p),document.removeEventListener("touchmove",X),document.removeEventListener("touchend",R)}},[g,E,v,r.pathname,h,f]),i.useEffect(()=>{d(p=>({...p,currentIndex:t.indexOf(r.pathname)}))},[r.pathname]),T},D=t;export{D as R,w as u};
