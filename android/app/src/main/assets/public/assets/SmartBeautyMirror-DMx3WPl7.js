import{j as e}from"./ui-vendor-CRu_cuPE.js";import{u as S,r as l}from"./react-vendor-DwZQO67Z.js";import{d as C,B as o,j as w,aX as _,s as h}from"./index-D4bhw5kJ.js";import{A as z}from"./arrow-left-CQcT7sCo.js";import{A as E,m as c}from"./animation-vendor-C-lCNj7M.js";import{S as L}from"./scan-rfUsMt4r.js";import{U as P}from"./user-DLA5oS07.js";import"./chart-vendor-BDCxrQ3h.js";import"./supabase-vendor-BS1x--yE.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=C("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),U=["ALL","LIPS","EYES","FACE","NAILS","TOOLS"],V=()=>{const d=S(),[n,y]=l.useState("ALL"),[m,j]=l.useState(null),[x,u]=l.useState([]),N=l.useRef(null),A=t=>{let a=0;for(let i=0;i<t.length;i++)a=t.charCodeAt(i)+((a<<5)-a);const r=(a&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-r.length)+r};return l.useEffect(()=>{(async()=>{const{data:{user:a}}=await h.auth.getUser();if(!a)return;const{data:r}=await h.from("profiles").select("current_household_id").eq("id",a.id).single();if(!(r!=null&&r.current_household_id))return;const{data:i}=await h.from("inventory").select("*").eq("household_id",r.current_household_id).eq("category","beauty");if(i&&i.length>0){const k=i.map(s=>{var p,f,g,b;return{id:s.id,name:s.name,brand:s.brand||"Unknown",color:((p=s.metadata)==null?void 0:p.hexColor)||A(s.name),type:((g=(f=s.metadata)==null?void 0:f.subtype)==null?void 0:g.toUpperCase())||"FACE",price:((b=s.metadata)==null?void 0:b.price)||"Owned",image_url:s.product_image_url}});u(k)}else u([{id:"1",name:"Velvet Matte Lip",brand:"KAEVA",color:"#D946EF",type:"LIPS",price:"$24"},{id:"2",name:"Glow Serum",brand:"Solaris",color:"#FDBA74",type:"FACE",price:"$45"},{id:"3",name:"Midnight Shadow",brand:"Luna",color:"#6366F1",type:"EYES",price:"$32"}])})()},[]),e.jsxs("div",{className:"relative h-screen w-full bg-[#08080A] overflow-hidden text-white font-sans",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-purple-900/20 via-[#08080A] to-[#08080A] z-0"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/2 bg-gradient-to-t from-[#08080A] to-transparent opacity-80 z-0 pointer-events-none"}),e.jsxs("header",{className:"absolute top-0 left-0 right-0 p-6 flex justify-between items-center z-50",children:[e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>d(-1),className:"text-white/80 hover:text-white hover:bg-white/10",children:e.jsx(z,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-2xl font-light tracking-[0.2em] uppercase bg-clip-text text-transparent bg-gradient-to-r from-purple-200 to-pink-200",children:"KAEVA BEAUTY"}),e.jsx(o,{variant:"ghost",size:"icon",className:"text-white/80 hover:text-white hover:bg-white/10",children:e.jsx(v,{className:"w-6 h-6"})})]}),e.jsxs("main",{className:"relative z-10 h-full flex flex-col justify-center items-center perspective-1000",children:[e.jsx("div",{className:"relative w-full max-w-4xl h-[50vh] flex items-center justify-center",children:e.jsx(E,{mode:"wait",children:e.jsxs(c.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{duration:.5},className:"relative w-full flex items-center justify-center gap-6 px-8 overflow-x-auto no-scrollbar py-12",ref:N,children:[x.filter(t=>n==="ALL"||t.type===n).map(t=>e.jsxs(c.div,{layoutId:`product-${t.id}`,onClick:()=>j(t.id),className:w("relative group cursor-pointer transition-all duration-500",m===t.id?"scale-110 z-20":"scale-100 opacity-70 hover:opacity-100"),children:[e.jsxs("div",{className:"w-24 h-48 rounded-full bg-white/5 border border-white/10 backdrop-blur-md shadow-2xl flex flex-col items-center justify-end p-4 transition-all group-hover:bg-white/10 group-hover:border-white/20 overflow-hidden",children:[e.jsx("div",{className:"w-full h-full rounded-full opacity-80 blur-xl absolute inset-0 transition-opacity group-hover:opacity-100",style:{background:`radial-gradient(circle at center, ${t.color}, transparent)`}}),t.image_url&&e.jsx("img",{src:t.image_url,alt:t.name,className:"absolute inset-0 w-full h-full object-cover opacity-50 mix-blend-overlay"}),e.jsx("div",{className:"relative z-10 w-4 h-24 rounded-full bg-gradient-to-b from-white/20 to-transparent mb-4"}),e.jsxs("div",{className:"text-center relative z-10",children:[e.jsx("p",{className:"text-[10px] tracking-widest uppercase text-white/60 truncate w-full",children:t.brand}),e.jsx("p",{className:"text-xs font-medium text-white mt-1 truncate w-16",children:t.name})]}),m===t.id&&e.jsx(c.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute -bottom-10 left-1/2 -translate-x-1/2 bg-white text-black text-[10px] font-bold px-3 py-1 rounded-full whitespace-nowrap",onClick:a=>{a.stopPropagation(),d(`/scanner?mode=beauty&product=${encodeURIComponent(t.name)}&brand=${encodeURIComponent(t.brand)}`)},children:"TRY ON"})]}),e.jsx("div",{className:"absolute -bottom-12 left-0 right-0 h-12 bg-gradient-to-b from-white/5 to-transparent transform scale-y-[-1] opacity-30 blur-sm rounded-full"})]},t.id)),x.length===0&&e.jsx("div",{className:"text-white/50 text-sm tracking-widest",children:"NO PRODUCTS FOUND"})]},n)})}),e.jsxs(c.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"absolute bottom-32 left-1/2 -translate-x-1/2 z-50",children:[e.jsx(o,{size:"lg",className:"rounded-full w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 shadow-[0_0_30px_rgba(217,70,239,0.4)] border-none flex items-center justify-center group",onClick:()=>d("/scanner?mode=beauty"),children:e.jsx(L,{className:"w-8 h-8 text-white group-hover:scale-110 transition-transform"})}),e.jsx("p",{className:"text-center text-[10px] uppercase tracking-widest text-white/60 mt-2",children:"Scan Product"})]}),e.jsx("div",{className:"absolute bottom-20 left-0 right-0 flex justify-center gap-8 z-40",children:U.map(t=>e.jsxs("button",{onClick:()=>y(t),className:w("text-xs tracking-[0.2em] font-medium transition-all duration-300 relative py-2",n===t?"text-white scale-110":"text-white/40 hover:text-white/80"),children:[t,n===t&&e.jsx(c.div,{layoutId:"activeCategory",className:"absolute bottom-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent"})]},t))})]}),e.jsxs("nav",{className:"absolute bottom-0 left-0 right-0 h-16 bg-black/20 backdrop-blur-xl border-t border-white/5 flex justify-around items-center z-50 px-6",children:[e.jsx(o,{variant:"ghost",size:"icon",className:"text-white/60 hover:text-white",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("div",{className:"w-5 h-5 border border-white/60 rounded-sm"})," "]})}),e.jsx(o,{variant:"ghost",size:"icon",className:"text-white/60 hover:text-white",children:e.jsx(_,{className:"w-5 h-5"})}),e.jsx("div",{className:"text-xs font-bold tracking-widest text-white",children:"MENU"}),e.jsx(o,{variant:"ghost",size:"icon",className:"text-white/60 hover:text-white",children:e.jsx(P,{className:"w-5 h-5"})}),e.jsx(o,{variant:"ghost",size:"icon",className:"text-white/60 hover:text-white",children:e.jsx(v,{className:"w-5 h-5"})})]})]})};export{V as default};
