graph TB
    subgraph "Client Side"
        A[User Interface]
        B[useAssistantVoice Hook]
        C[useOnboardingVoice Hook]
        D[Client Tools]
    end
    
    subgraph "ElevenLabs Cloud"
        E[Conversational AI Agent]
        F[Speech-to-Text]
        G[Text-to-Speech]
    end
    
    subgraph "Client Tools Registration"
        D1[check_inventory]
        D2[get_recipes]
        D3[add_to_shopping_list]
        D4[check_expiring_items]
        D5[updateProfile]
        D6[saveHouseholdMember]
    end
    
    A --> |Activate Voice| B
    A --> |Start Onboarding| C
    
    B --> |useConversation| E
    C --> |useConversation| E
    
    B --> |Register| D1
    B --> |Register| D2
    B --> |Register| D3
    B --> |Register| D4
    
    C --> |Register| D5
    C --> |Register| D6
    
    E --> F
    E --> G
    
    F --> |User Speech| E
    G --> |AI Response| A
    
    E --> |Tool Call| D
    D --> |Execute & Persist| Supabase[(Supabase)]
    D --> |sendContextualUpdate| E
